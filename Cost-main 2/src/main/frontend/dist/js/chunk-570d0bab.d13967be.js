(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-570d0bab"],{7173:function(t,s,a){},"96d4":function(t,s,a){"use strict";a("7173")},d4b9:function(t,s,a){"use strict";a.r(s);a("386d");var e=function(){var t=this,s=t._self._c;return s("vx-card",{attrs:{title:t.$t("allRegisteredUsers")}},[s("vx-card",{staticClass:"mt-10",attrs:{id:"internal-card",title:"","no-shadow":"","card-border":""}},[s("div",{staticClass:"chat__profile-search flex p-4 mt-6"},[s("div",{staticClass:"p-3 mb-4 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary",attrs:{id:"add"},on:{click:t.add}},[s("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),s("span",{staticClass:"ml-2 text-base text-primary",staticStyle:{"min-width":"350px"}},[t._v(t._s(t.$t("addNewUser")))])],1),s("div",{attrs:{id:"dropdown"}},[s("vs-dropdown",{attrs:{"vs-custom-content":"","vs-trigger-click":""}},[s("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[s("span",{staticClass:"mr-2"},[s("p",[t._v(t._s((t.currentPage-1)*t.limit+1)+"-"+t._s(t.currentPage*t.limit)+" of "+t._s(t.total*t.limit))])]),s("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),s("vs-dropdown-menu",[s("vs-dropdown-item",[s("span",{on:{click:function(s){return t.pageLimit(15)}}},[t._v("15")])]),s("vs-dropdown-item",[s("span",{on:{click:function(s){return t.pageLimit(25)}}},[t._v("25")])]),s("vs-dropdown-item",[s("span",{on:{click:function(s){return t.pageLimit(50)}}},[t._v("50")])]),s("vs-dropdown-item",[s("span",{on:{click:function(s){return t.pageLimit(75)}}},[t._v("75")])])],1)],1)],1),s("div",{staticClass:"float-right",attrs:{id:"search"}},[s("vs-input",{staticClass:"w-full mx-2 input-rounded-full no-icon-border",attrs:{icon:"icon-search","icon-pack":"feather",placeholder:t.$t("Search")},on:{keyup:function(s){return t.search(t.searchUser)}},model:{value:t.searchUser,callback:function(s){t.searchUser=s},expression:"searchUser"}})],1)]),s("loading",{attrs:{active:t.isLoading,"can-cancel":!0},on:{"update:active":function(s){t.isLoading=s}}}),s("vs-table",{staticClass:"stripe",attrs:{"max-items":t.currentPage,data:t.companyId?t.users.filter((function(s){return s.companyId==t.companyId})):t.users.filter((function(t){return"Customer"!=t.userType&&0==t.companyId}))},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.data;return t._l(e,(function(a,i){return s("vs-tr",{key:i,attrs:{data:a}},[s("vs-td",{staticClass:"w-10"},[t._v(t._s(i+1))]),s("vs-td",{staticClass:"pr-4 w-1/4",attrs:{data:e[i].firstName}},[t._v(t._s(e[i].firstName)+"\n            "+t._s(e[i].lastName)+" "+t._s(e[i].grandFatherName))]),s("vs-td",{staticClass:"p-0",attrs:{data:e[i].mobilePhone}},[t._v(t._s(e[i].mobilePhone))]),s("vs-td",{staticClass:"p-0",attrs:{data:e[i].email}},[t._v(t._s(e[i].email))]),s("vs-td",{staticClass:"p-0",attrs:{data:e[i].email}},[t._v(t._s(e[i].userType))]),s("vs-td",{staticClass:"p-0",attrs:{data:e[i].id}},[s("ul",{staticClass:"switch-container"},[s("li",[s("span",{on:{click:function(s){t.openConfirm(t.status[i],e[i].userId,"success"),t.increament++,t.decreament--}}},[s("vs-switch",{attrs:{color:"success"},model:{value:t.status[i],callback:function(s){t.$set(t.status,i,s)},expression:"status[indextr]"}})],1)])])]),s("vs-td",{staticClass:"p-0",attrs:{data:e[i].id}},[s("span",{on:{click:function(s){return t.updateUser(e[i].userId)}}},[s("vs-avatar",{attrs:{color:"lightGreen","icon-pack":"feather",icon:"icon-edit"}})],1)])],1)}))}}])},[s("template",{slot:" thead"},[s("vs-th",{attrs:{"sort-key":"number"}},[t._v("#")]),s("vs-th",{attrs:{"sort-key":"firstName"}},[t._v(t._s(t.$t("Name")))]),s("vs-th",{attrs:{"sort-key":"mobilePhone"}},[t._v(t._s(t.$t("mobilePhone")))]),s("vs-th",{attrs:{"sort-key":"email"}},[t._v(t._s(t.$t("Email")))]),s("vs-th",{attrs:{"sort-key":"role"}},[t._v(t._s(t.$t("role")))]),s("vs-th",{attrs:{"sort-key":"status"}},[t._v(t._s(t.$t("Status")))]),s("vs-th",[t._v(t._s(t.$t("Edit")))])],1)],2),0!=t.increament?s("p",[t._v(".")]):t._e(),s("vs-pagination",{attrs:{total:t.total,max:6},on:{change:function(s){return t.pagination()}},model:{value:t.currentPage,callback:function(s){t.currentPage=s},expression:"currentPage"}})],1)],1)},i=[],r=a("ade3"),n=a("a04c"),c=(a("41cb"),a("401b")),o=(a("ce07"),a("a433"),a("18fa")),u=a.n(o),d=(a("e40d"),{components:{AddNewDataSidebar:n["a"],AgGridVue:c["AgGridVue"],Loading:u.a},data:function(){var t;return t={dot:"",users:[],selected:[]},Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(t,"selected",[]),"limit",15),"total",0),"searchUser",""),"currentPage",1),"status",[]),"swich",!0),"userStatus",""),"updateStatus",!1),"colorAlert","primary"),Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(t,"titleAlert","Alert"),"activeConfirm",!1),"companyId",localStorage.getItem("companyId")),"valueInput",""),"accepted",!1),"userId",""),"confirm",""),"increament",0),"decreament",0),"responseGeted",!1),Object(r["a"])(t,"isLoading",!1)},methods:{search:function(t){var s=this;this.isLoading=!0,this.$http.post("/accounts/search",{searchKey:t},{params:{page:this.currentPage,limit:this.limit}}).then((function(t){s.isLoading=!1,s.users=t.data,s.total=thisIns.users[0].totalPages,thisIns.$store.dispatch("user/populateUser",t.data)})).catch((function(t){s.isLoading=!1}))},openConfirm:function(t,s,a){this.status[0]=!0,1==t?(this.userStatus="Disabled",this.confirm="Do You Want to Disable?"):(this.userStatus="Active",this.confirm="Do You Want to Enable"),this.userId=s,this.$vs.dialog({type:"confirm",color:"warning",title:"Confirm",text:this.confirm,accept:this.acceptAlert,acceptText:this.$t("Yes"),cancelText:this.$t("No")})},acceptAlert:function(){var t=this;this.isLoading=!0,this.$http.put("/accounts/changestatus/"+this.userId,{userStatus:this.userStatus}).then((function(s){t.isLoading=!1,t.$vs.notify({color:"success",title:"Status",text:"User Status Changed"})})).catch((function(s){t.isLoading=!1}))},pageLimit:function(t){this.limit=t,this.updateStatus=!0,this.pagination(),this.updateStatus=!1},pagination:function(){var t=this;this.isLoading=!0;var s=this;this.$http.get("/accounts/users",{params:{page:this.currentPage,limit:this.limit}}).then((function(t){if(this.isLoading=!1,s.users=t.data,s.total=s.users[0].totalPages,s.$store.dispatch("user/populateUser",t.data),1==s.updateStatus)for(var a=0;a<s.users.length;a++)"Active"==s.users[a].userStatus?s.status[a]=!0:s.status[a]=!1})).catch((function(s){t.isLoading=!1}))},add:function(){this.$router.push({path:"/pages/add-user"})},updateUser:function(t){this.$router.push({path:"/pages/update-user/"+t})}},created:function(){var t=this;this.isLoading=!0,this.$http.get("/accounts/users",{params:{page:this.currentPage,limit:this.limit}}).then((function(s){t.isLoading=!1,t.users=s.data,t.total=t.users[0].totalPages,t.$store.dispatch("user/populateUser",s.data);for(var a=0;a<t.users.length;a++)"Active"==t.users[a].userStatus?t.status[a]=!0:t.status[a]=!1;this.responseGeted=!0})).catch((function(s){t.isLoading=!1}))},updated:function(){if(""==this.searchUser&&0!=this.increament){var t=this;this.$http.get("/accounts/users",{params:{page:this.currentPage,limit:this.limit}}).then((function(s){t.users=s.data,t.total=t.users[0].totalPages;for(var a=0;a<t.users.length;a++)"Active"==t.users[a].userStatus?t.status[a]=!0:t.status[a]=!1})).catch((function(t){}))}}}),l=d,h=(a("96d4"),a("2877")),p=Object(h["a"])(l,e,i,!1,null,"ca95890a",null);s["default"]=p.exports}}]);
//# sourceMappingURL=chunk-570d0bab.d13967be.js.map